rpm -q httpd
systemctl start httpd

cd /var/www/html
cat > dd.html
ddddd

go to web browser : http://vmip/dd.html


rpm -q filebeat

filebeat modules list
filebeat modules enable apache
filebeat modules list

cd /etc/filebeat/
ls
cd modules.d/
ls
vim apache.yml

systemctl restart filebeat
ls
cd /etc/filebeat/
ls
vim filebeat.yml
output.logstash:
  # The Logstash hosts
  hosts: ["localhost:5044"]


systemctl restart filebeat
systemctl status  filebeat
cd /logstash_dec_2025/
ls

# cat beat.conf
input {

        beats {
                port => 5044
        }

}

filter {
        mutate {
                remove_field =>  [ "host", "[http][version]" ]
                add_tag => ["DC_IN"]
                convert => { "[http][request][body][bytes]" => "integer" }
        }

       grok {
                match => { "message" => '%{IP:clientip} - - \[%{HTTPDATE:timestamp}\] \"%{WORD:verb} %{NOTSPACE:request} HTTP/%{NUMBER:httpversion}\" %{NUMBER:status_code} %{NUMBER:bytes}' }
        }

}

output {

        elasticsearch {
                user => "elastic"
                password => "ats-7AJN*nwADWT45OqG"
                hosts => ["https://es01:9200"]
                index => "app-web-beat-%{+YYYY-MM-dd}"
                ssl_verification_mode => none

        }

        stdout {}

}


 1101  docker run -it --net elastic  -p 5044:5044  --name logstash --rm   -v   /logstash_dec_2025:/code docker.elastic.co/logstash/logstash:9.2.1  -f /code/beat.conf
